
| 2023 | 400m  | 51.30 (2nd) | 51.10 (6th) | 51.40 (12th) |
| 2024 | 400m  | 50.90 (1st) | 51.02 (7th) | ‚Äì |

For now, we will NOT have any links. We will just show the data to keep it simple, and then add the links later. 

## Justin
Analyze the database for integrity. Here are some checks to perform:
1. Verify that any fields that must be a specific value (e.g., gender must be "Boys" or "Girls") only have entries of that value in the database. Check all such fields.

2. Verify that there are no NULL or empty fields that should be populated.

3. Verify foreign key consistency: Make sure every foreign key value actually exists in the referenced table. For example, every Athlete.gender must exist in the Gender table. This will catch any ‚Äúorphaned‚Äù references.

4. Verify unique constraints: Check that all fields that are supposed to be unique (e.g., Athlete ID, Meet ID) really are unique.

5. Verify referential constraints. For example, in the Athlete table, gender is a foreign key referencing Gender.gender and it has a constraint of ON UPDATE CASCADE. This means if the gender table updates a value (e.g., "Boys" ‚Üí "Male"), all matching Athlete entries will update automatically. Test this in a copy of the database so your main data remains safe. You should test ON UPDATE adn ON DELETE cascades.

6. Spot check cross-table integrity. For example, make sure athlete result records match to athletes and meets. 

7. Check for duplicate rows. For example, are there duplicate ahletes, meets, etc.

8. Use Ashiv‚Äôs scoring program to verify meet scores. This can be used to ‚Äúspot check‚Äù meets for accuracy: do the results match those on IHSAA? Check a handful of meets: 4 Sectionals, 4 Regionals, and 2 State meets, for both genders, using last season‚Äôs data. You can find the Meet Scoring program here: https://github.com/trackinsights/trackinsights
   
Keep a checklist of tests performed for each table/column and record any anomalies and whether they were fixed. Consider creating SQL scripts for automated integrity checks so you can rerun them periodically.
| Year | Event | Sectional | Regional | State |
|------|-------|-----------|---------|-------|
| 2023 | 200m  | [23.80](#sectional-detail-2023-200m) (4th) | [**23.65**](#regional-detail-2023-200m) (5th) | ‚Äì |
| 2023 | 400m  | [51.30](#sectional-detail-2023-400m) (2nd) | [51.10](#regional-detail-2023-400m) (6th) | [51.40](#state-detail-2023-400m) (12th) |
| 2024 | 400m  | [**50.90**](#sectional-detail-2024-400m) (1st) | [51.02](#regional-detail-2024-400m) (7th) | ‚Äì |

For now, we will NOT have any links. We will just show the data to keep it simple, and then add the links later. 


=======
--Additional

Send me an email that explains how your search query works. Think of this as a "tool tip" that may be included on our web app. I will add your explaination to our documentation. 

Add queries for obtaining the below information. There needs to be a query that provides a list of all athletes' events, their PR for that event (and the year and meet type for that PR), their All-Time rank for their school, and their All-Time rank for Indiana. 

### Personal Bests  

- **200m:** **23.65** (2023 Regional)  
   ‚Ä¢ üè´ [#2 of 8 All-Time at Central HS](#school-200m-ranking) since 2022  
   ‚Ä¢ üèÖ [#15 of 450 All-Time in Indiana](#state-200m-ranking) since 2022  

- **400m:** **50.90** (2024 Sectional)  
   ‚Ä¢ üè´ [#1 of 10 All-Time at Central HS](#school-400m-ranking) since 2022  
   ‚Ä¢ üèÖ [#12 of 420 All-Time in Indiana](#state-400m-ranking) since 2022 

## Justin
Analyze the database for integrity. Here are some checks to perform:
1. Verify that any fields that must be a specific value (e.g., gender must be "Boys" or "Girls") only have entries of that value in the database. Check all such fields.

2. Verify that there are no NULL or empty fields that should be populated.

3. Verify foreign key consistency: Make sure every foreign key value actually exists in the referenced table. For example, every Athlete.gender must exist in the Gender table. This will catch any ‚Äúorphaned‚Äù references.

4. Verify unique constraints: Check that all fields that are supposed to be unique (e.g., Athlete ID, Meet ID) really are unique.

5. Verify referential constraints. For example, in the Athlete table, gender is a foreign key referencing Gender.gender and it has a constraint of ON UPDATE CASCADE. This means if the gender table updates a value (e.g., "Boys" ‚Üí "Male"), all matching Athlete entries will update automatically. Test this in a copy of the database so your main data remains safe. You should test ON UPDATE adn ON DELETE cascades.

6. Spot check cross-table integrity. For example, make sure athlete result records match to athletes and meets. 

7. Check for duplicate rows. For example, are there duplicate ahletes, meets, etc.


8. Use Ashiv‚Äôs scoring program to verify meet scores. This can be used to ‚Äúspot check‚Äù meets for accuracy: do the results match those on IHSAA? Check a handful of meets: 4 Sectionals, 4 Regionals, and 2 State meets, for both genders, using last season‚Äôs data.


ON UPDATE CASCADE / ON DELETE CASCADE:

If a parent record is updated, do child records update?

If a parent record is deleted, do child records delete?

This can uncover missing or misconfigured constraints.

Simulate constraint violations in a test database: Try inserting an invalid foreign key or deleting a parent with dependent children. If SQLite allows it, you know a constraint is missing.

3. Cross-table validation

Check for logical consistency across tables. Examples:

An athlete result should tie to an athlete, a meet, and an event.

4. Spot data quality issues

Duplicate rows: Check for accidental duplicates (athletes, meets, etc.).

Missing relationships: Example: an athlete entered in a meet but missing an associated team.

Orphaned records: Records in a child table that do not link to any parent record.

5. Testing calculations

Use Ashiv‚Äôs scoring program to verify meet scores. This can be used to ‚Äúspot check‚Äù meets for accuracy: do the results match those on IHSAA?

Check a handful of meets: 4 Sectionals, 4 Regionals, and 2 State meets, for both genders, using last season‚Äôs data.

6. Documentation / audit

Keep a checklist of tests performed for each table/column.

Record any anomalies and whether they were fixed.

Consider creating SQL scripts for automated integrity checks so you can rerun them periodically.

## Arnay
Focus on making the homepage AMAZING! We want this to have the "wow" factor when users visit our site. Also, determine what we want in the base.html (headers, footers, etc.) and formalize that. Explore the photo slideshow option, and see what you think of that compared to a video. You can find the IndyStar photos here: 

https://www.indystar.com/picture-gallery/sports/high-school/2025/06/07/see-photos-from-the-ihsaa-121st-annual-boys-track-and-field-state-finals/84083697007/

https://www.indystar.com/picture-gallery/sports/high-school/2025/06/07/see-photos-from-the-ihsaa-51st-annual-girls-track-and-field-state-finals/84096994007/

## Owen
Focus in enhancing your search query. Currently the searching works by looking for any words in the search that match any words in the athlete name or school name. 

=======
8. Use Ashiv‚Äôs scoring program to verify meet scores. This can be used to ‚Äúspot check‚Äù meets for accuracy: do the results match those on IHSAA? Check a handful of meets: 4 Sectionals, 4 Regionals, and 2 State meets, for both genders, using last season‚Äôs data. You can find the Meet Scoring program here: https://github.com/trackinsights/trackinsights
   
Keep a checklist of tests performed for each table/column and record any anomalies and whether they were fixed. Consider creating 
SQL scripts for automated integrity checks so you can rerun them periodically.

--Additional

1) For the athlete_result records that had an athlete_id of null, update those records with the appropriate athlete_id based off your manual lookup. 

2) Check why we have athlete_result records with a grade that is null. Also, verify the grad_year we generated for athletes is correct for those athletes who had a grade of null.

3) Once the DB is updated appropriately, we can push those changes to GitHub. 

4) Modify the percentile program such that it has a callable function for our web app. The desired function is listed below. 

Below are steps to complete:

1) Convert the Jupiter Notebook to a python script.

   ```
   jupyter nbconvert --to script <name of jupiter notebook>.ipynb
   ```
   This will create a .py file. 
   
2) Update the code to include the below callable function. 

```python
def get_percentiles(
    events=None,                # tuple of events to include in results. None means all events.
    genders=None,               # tuple of genders to include in results. None means both Boys and Girls.
    percentiles=(25, 50, 75),   # tuple of percentiles to include in results.
    years=None,                 # tuple of years to include in calculation, or None
    meet_types=None             # tuple of meet types to include in calculation, or None
):
    """
    Returns percentile data for track & field events.

    Parameters:
         events (tuple[str] or None): Events to include in results. None means all events.
         genders (tuple[str] or None): Genders to include in results. None means both Boys and Girls.
         percentiles=(25, 50, 75): Percentiles to include in results.
         years (tuple[int] or None): Years of data used in percentile calculations. None means all years.
         meet_types (tuple[str] or None): Meet types used in percentile calculations. None means all meet types.

    Notes:
        - `events`, `genders`, and `percentiles` indicate what to include in results.
        - `years` and `meet_types` indicate what to include in percentile calculation. Percentiles are aggregated across all selected years and meet types, not split by them.
    """
    
```

3) Test your function thoroughly to ensure it works with a variety of parameter options.
   
4) Place your code file in the following path, which you need to add.

```
backend/scripts/
‚îú‚îÄ‚îÄ percentiles.py
```


